<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <title>Invites Digitais ‚Äì Valida√ß√£o</title>
  <!-- ================== ESTILOS ================== -->
  <style>
    :root{
      --primary:#6a5acd;--success:#38a169;--error:#e53e3e;
      --bg:#f8f9fa;--text:#2d3748;--light:#edf2f7
    }
    body,html{margin:0;padding:0;height:100%;font-family:'Segoe UI',sans-serif;background:var(--bg);color:var(--text)}

    /* Splash */
    .splash-screen{position:fixed;inset:0;background:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:99999;animation:fadeOut 1s forwards;animation-delay:2.5s}
    .loader{border:6px solid #f3f3f3;border-top:6px solid var(--primary);border-radius:50%;width:60px;height:60px;animation:spin 1s infinite;margin-bottom:20px;transition:opacity 0.5s ease-in-out}
    .logo-text{font-size:2.4em;font-weight:900;opacity:1;transform:scale(1);color:var(--primary);margin-bottom:10px}
    .welcome-text{font-size:1.2em;font-weight:600;opacity:1}
    @keyframes spin{to{transform:rotate(360deg)}}
    @keyframes fadeOut{to{opacity:0;visibility:hidden}}

    /* Contagem regressiva */
    #countdownTimer{position:fixed;top:10px;left:50%;transform:translateX(-50%);background:#fff;padding:8px 16px;border-radius:8px;font-weight:700;box-shadow:0 2px 6px rgba(0,0,0,.1);z-index:80000}

    /* Scanner em tela cheia */
    #qrFullscreen{position:fixed;inset:0;background:rgba(0,0,0,.85);z-index:70000;display:none;flex-direction:column;align-items:center;justify-content:center}
    #qrViewFull{width:100vw;height:100vh}
    #qrFullscreenClose{position:absolute;top:12px;right:12px;background:#fff;border:none;padding:10px 14px;border-radius:8px;font-weight:700;cursor:pointer}
    #qrStatus{position:absolute;top:45%;left:50%;transform:translate(-50%,-50%);font-size:2.4em;font-weight:800;text-shadow:0 0 12px rgba(0,0,0,.8);color:#fff;text-align:center}
    #qrGuestName{position:absolute;top:58%;left:50%;transform:translate(-50%,-50%);font-size:1.4em;font-weight:600;color:#fff;text-align:center}
    #nextBtn{position:absolute;bottom:40px;background:var(--primary);color:#fff;border:none;padding:12px 28px;border-radius:8px;font-size:1em;font-weight:700;cursor:pointer;display:none}

    /* Estrutura principal */
    main{margin:32px auto;max-width:500px;background:#fff;border-radius:16px;box-shadow:0 4px 20px rgba(0,0,0,.1);overflow:hidden}
    .tabs{display:flex}.tab{flex:1;padding:14px;text-align:center;cursor:pointer;font-weight:700;background:var(--light);transition:.3s}.tab.active{background:var(--primary);color:#fff}
    .tabcontent{display:none;padding:24px}.tabcontent.active{display:block}

    /* Inputs/bot√µes */
    input[type=text]{width:100%;padding:12px;border:1px solid #ccc;border-radius:10px;margin-bottom:14px;text-align:center;font-size:1em}
    button{width:100%;padding:12px;font-size:1em;background:var(--primary);color:#fff;border:none;border-radius:10px;cursor:pointer;font-weight:700;box-shadow:0 2px 6px rgba(0,0,0,.1);transition:.3s}button:hover{background:#5a4ccf}

    /* Sa√≠das */
    .output{margin-top:14px;padding:14px;border-radius:10px;font-size:1.1em;text-align:center}
    .output.success{background:var(--success);color:#fff}.output.error{background:var(--error);color:#fff}

    /* Lista */
    #guestList{list-style:none;padding:0;margin-top:20px;max-height:300px;overflow-y:auto;border:1px solid #e2e8f0;border-radius:10px;display:none}
    #guestList li{padding:12px 16px;border-bottom:1px solid #edf2f7;display:flex;align-items:center;gap:10px}
    .check{width:20px;height:20px;border-radius:50%;border:2px solid #cbd5e0}.checked{background:var(--success);border-color:var(--success)}

    /* Barras de progresso */
    #progressContainer{margin-top:20px;position:relative;height:26px;background:#e2e8f0;border-radius:13px;overflow:hidden;display:none}
    #progressBar{background:var(--primary);height:100%;width:0%}
    #progressText{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-weight:700;color:#fff;text-shadow:0 0 3px rgba(0,0,0,.4)}

    .footer-note{text-align:center;font-size:.8em;color:#a0aec0;margin:32px 0}
    .footer-note .phone-icon { color: #000; font-style: normal; }
  </style>
  <script src="https://unpkg.com/html5-qrcode@latest"></script>
</head>
<body>
  <!-- Splash -->
  <div class="splash-screen" id="splash">
    <div class="logo-text">Invites Digitais</div>
    <div class="loader"></div>
    <div class="welcome-text">Seu evento, suas regras</div>
  </div>

  <!-- Timer -->
  <div id="countdownTimer"></div>

  <!-- Tela cheia Scanner -->
  <div id="qrFullscreen">
    <button id="qrFullscreenClose" onclick="closeFullscreen()">Fechar</button>
    <div id="qrViewFull"></div>
    <div id="qrStatus"></div>
    <div id="qrGuestName"></div>
    <button id="nextBtn" onclick="enableNextScan()">Pr√≥ximo</button>
  </div>

  <!-- Conte√∫do principal -->
  <main>
    <div class="tabs">
      <div class="tab active" onclick="openTab('cliente')">Cliente</div>
      <div class="tab" onclick="adminLogin()">Admin</div>
    </div>

    <!-- Cliente -->
    <div id="cliente" class="tabcontent active">
      <button onclick="startFullscreenScanner()">üì∑ Escanear QR Code (Tela Cheia)</button>
      <input id="codeInput" type="text" placeholder="Digite o c√≥digo do convite" />
      <button onclick="verifyManual()">Verificar</button>
      <div class="output" id="result">Nenhum c√≥digo validado ainda‚Ä¶</div>
      <div id="progressContainer"><div id="progressBar"></div><span id="progressText"></span></div>
      <ul id="guestList"></ul>
    </div>

    <!-- Admin -->
    <div id="admin" class="tabcontent">
      <input id="fileInput" type="file" accept=".txt" onchange="importTxt(event)" style="display:none" />
      <div id="adminAddSection" style="display:none">
        <input id="newCode" type="text" placeholder="Novo c√≥digo" />
        <input id="newName" type="text" placeholder="Nome do convidado" />
        <button onclick="addManual()">Adicionar Convidado</button>
      </div>
      <button id="uploadBtn" onclick="document.getElementById('fileInput').click()">üì• Carregar lista (.txt)</button>
      <button id="overrideBtn" onclick="toggleOverride()" style="display:none;margin-top:10px">üõ°Ô∏è Modo Override</button>
    </div>
  </main>
  <div class="footer-note">Invites Digitais ¬© 2025 ¬∑ <span class="phone-icon">üìû</span> 959 823 409</div>

  <!-- ================== SCRIPT ================== -->
<script>
// c√≥digo JavaScript permanece igual
</script>
</body>
</html>
